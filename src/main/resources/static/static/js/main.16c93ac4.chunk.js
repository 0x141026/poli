(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{42:function(e,t,n){e.exports=n(80)},47:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(11),s=n.n(r),l=n(2),i=n(3),c=n(5),u=n(4),d=n(6),m=(n(47),n(81)),h=n(82),p=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Overview"),o.a.createElement("h5",null,"Number of data sources"),o.a.createElement("h5",null,"Number of dashboards"))}}]),t}(a.Component),f=n(9),v=n.n(f),b=n(15),E=n(17),g=n(12),w=n.n(g),y=function(){var e=Object(b.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/ws/jdbcdatasource");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(v.a.mark(function e(t){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get(t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),j=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={jdbcDataSources:[],showEditPanel:!1,id:null,name:"",connectionUrl:"",username:"",password:"",type:"",ping:""},n.handleInputChange=function(e){var t=e.target,a=t.value,o=t.name;n.setState(Object(E.a)({},o,a))},n.save=function(e){e.preventDefault();var t={connectionUrl:n.state.connectionUrl,username:n.state.username,password:n.state.password,name:n.state.name,type:n.state.password,ping:n.state.ping};w.a.post("/ws/jdbcdatasource",t).then(function(e){n.initData()})},n.update=function(e){console.log("update",e),w.a.put("/ws/jdbcdatasource",e).then(function(e){n.initData()})},n.delete=function(e){console.log("delete",e),w.a.delete("/ws/jdbcdatasource/"+e).then(function(e){n.initData()})},n.ping=function(e){w.a.get("/ws/jdbcdatasource/ping/".concat(e)).then(function(e){console.log("ping",e.data)})},n.clearEditPanel=function(){n.setState({id:null,connectionUrl:"",username:"",password:"",name:"",type:"",ping:""})},n.showEditPanel=function(e){null!==e?n.setState({id:e.id,connectionUrl:e.connectionUrl,username:e.username,password:e.password,name:e.name,type:e.type,ping:e.ping}):n.clearEditPanel(),n.setState({showEditPanel:!0})},n.showDeletePanel=function(){},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.initData()}},{key:"initData",value:function(){var e=Object(b.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:t=e.sent,this.setState({jdbcDataSources:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.showEditPanel?"right-drawer display-block":"right-drawer display-none",n=this.state.jdbcDataSources.map(function(t,n){return o.a.createElement("tr",{key:n},o.a.createElement("td",null,t.name),o.a.createElement("td",null,t.connectionUrl),o.a.createElement("td",null,t.type),o.a.createElement("td",null,t.username),o.a.createElement("td",null,t.ping),o.a.createElement("td",null,o.a.createElement("button",{onClick:function(){return e.showEditPanel(t)}},"update")),o.a.createElement("td",null,o.a.createElement("button",{onClick:function(){return e.delete(t.id)}},"delete")),o.a.createElement("td",null,o.a.createElement("button",{onClick:function(){return e.ping(t.id)}},"ping")))}),a=null===this.state.id?"New":"Update";return o.a.createElement("div",null,o.a.createElement("h1",null,"Data Sources"),o.a.createElement("div",null,o.a.createElement("h2",null,"Table"),o.a.createElement("table",null,o.a.createElement("thead",null),o.a.createElement("tbody",null,n))),o.a.createElement("button",{onClick:function(){return e.showEditPanel(null)}},"Add"),o.a.createElement("div",{className:t},o.a.createElement("h3",null,a),o.a.createElement("button",{onClick:function(){return e.setState({showEditPanel:!1})}},"Close"),o.a.createElement("form",null,o.a.createElement("label",null,"Name"),o.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleInputChange}),o.a.createElement("label",null,"Connection Url"),o.a.createElement("textarea",{row:"3",type:"text",name:"connectionUrl",value:this.state.connectionUrl,onChange:this.handleInputChange}),o.a.createElement("label",null,"Username"),o.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleInputChange}),o.a.createElement("label",null,"Password"),o.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleInputChange}),o.a.createElement("label",null,"Type"),o.a.createElement("input",{type:"text",name:"type",value:this.state.type,onChange:this.handleInputChange}),o.a.createElement("label",null,"Ping"),o.a.createElement("input",{type:"text",name:"ping",value:this.state.ping,onChange:this.handleInputChange})),o.a.createElement("div",null,o.a.createElement("button",{onClick:this.save},"Save"),o.a.createElement("button",{onClick:this.ping},"Ping"))))}}]),t}(a.Component),M=n(84),C=[{dashboardId:1,name:"dashboard1"}],k=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={dashboards:[]},n.fetchBoards=function(){w.a.get("/ws/dashboard").then(function(e){var t=e.data;n.setState({dashboards:t})})},n.save=function(){},n.update=function(e){n.props.history.push("/dashboard/edit/".concat(e))},n.delete=function(e){console.log("delete",e)},n.jump=function(){n.props.history.push("/overview")},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({dashboards:C})}},{key:"render",value:function(){var e=this,t=this.state.dashboards.map(function(t,n){return o.a.createElement("tr",{key:n},o.a.createElement("td",null,t.id),o.a.createElement("td",null,t.name),o.a.createElement("td",null,o.a.createElement("button",{onClick:function(){return e.update(t.id)}},"update")),o.a.createElement("td",null,o.a.createElement("button",{onClick:function(){return e.delete(t.id)}},"delete")))});return o.a.createElement("div",null,"Board",o.a.createElement("button",{onClick:this.jump},"Overview"),o.a.createElement("button",{onClick:function(){return e.props.history.push("/dashboard/new")}},"New"),o.a.createElement("table",null,o.a.createElement("thead",null),o.a.createElement("tbody",null,t)))}}]),t}(a.Component),D=Object(M.a)(k),S=n(19),x=n.n(S),N=(n(38),n(39),n(18)),P=(n(25),n(10)),I=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onMouseDown=function(e){e.preventDefault();for(var t=s.a.findDOMNode(Object(P.a)(Object(P.a)(n))).parentNode,a=e.clientX-t.offsetLeft,o=e.clientY-t.offsetTop,r=document.getElementsByClassName("grid-box"),l=0;l<r.length;l++)r[l].style.zIndex=2;t.style.zIndex=3;var i=t.ownerDocument;i.addEventListener("mouseup",n.onMouseUp),i.addEventListener("mousemove",n.onMouseMove),n.setState({xOffset:a,yOffset:o}),n.props.onMouseDown("drag")},n.onMouseUp=function(e){e.preventDefault();var t=s.a.findDOMNode(Object(P.a)(Object(P.a)(n)));if(t){var a=t.ownerDocument;a.removeEventListener("mousedown",n.onMouseDown),a.removeEventListener("mouseup",n.onMouseUp),a.removeEventListener("mousemove",n.onMouseMove)}n.props.onMouseUp()},n.onMouseMove=function(e){if(console.log("GridDraggable onMouseMove",e),e.preventDefault(),"drag"===n.props.mode){var t=s.a.findDOMNode(Object(P.a)(Object(P.a)(n))).parentNode,a=e.clientX-n.state.xOffset,o=e.clientY-n.state.yOffset,r=t.parentNode,l=r.clientWidth,i=r.clientHeight,c=parseInt(t.style.width,10)+4,u=parseInt(t.style.height,10)+4;a<0&&(a=0),o<0&&(o=0),a+c>l&&(a=l-c),o+u>i&&(o=i-u),a=5*Math.floor(a/5),o=5*Math.floor(o/5),t.style.left=a+"px",t.style.top=o+"px"}},n.state={xOffset:0,yOffset:0},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillUnmount",value:function(){var e=s.a.findDOMNode(this);if(e){var t=e.ownerDocument;t.removeEventListener("mousedown",this.onMouseDown),t.removeEventListener("mouseup",this.onMouseUp),t.removeEventListener("mousemove",this.onMouseMove)}}},{key:"render",value:function(){return o.a.createElement("div",{className:"grid-draggable",onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp})}}]),t}(o.a.Component),U=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onMouseDown=function(e){console.log("onMouseDown",e),e.preventDefault();var t=s.a.findDOMNode(Object(P.a)(Object(P.a)(n))),a=e.clientX,o=e.clientY,r=t.ownerDocument;r.addEventListener("mouseup",n.onMouseUp),r.addEventListener("mousemove",n.onMouseMove),n.setState({xOffset:a,yOffset:o}),n.props.onMouseDown("resize")},n.onMouseUp=function(e){e.preventDefault();var t=s.a.findDOMNode(Object(P.a)(Object(P.a)(n)));if(t){var a=t.ownerDocument;a.removeEventListener("mousedown",n.onMouseDown),a.removeEventListener("mouseup",n.onMouseUp),a.removeEventListener("mousemove",n.onMouseMove)}n.props.onMouseUp()},n.onMouseMove=function(e){console.log("GridResizer onMouseMove",e),e.preventDefault();var t=s.a.findDOMNode(Object(P.a)(Object(P.a)(n))).parentNode,a=parseInt(t.style.width,10),o=parseInt(t.style.height,10),r=e.clientX-n.state.xOffset,l=e.clientY-n.state.yOffset;t.style.width=Math.floor(a+r)+"px",t.style.height=Math.floor(o+l)+"px";var i=e.clientX,c=e.clientY;n.setState({xOffset:i,yOffset:c})},n.state={xOffset:0,yOffset:0},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillUnmount",value:function(){var e=s.a.findDOMNode(this);if(e){var t=e.ownerDocument;t.removeEventListener("mousedown",this.onMouseDown),t.removeEventListener("mouseup",this.onMouseUp),t.removeEventListener("mousemove",this.onMouseMove)}}},{key:"render",value:function(){return o.a.createElement("div",{className:"grid-resizable",onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp})}}]),t}(o.a.Component),L=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onMouseDown=function(e){console.log("GridItem onMouseDown",e),n.setState({mode:e})},n.onMouseUp=function(){console.log("GridItem onMouseUp"),n.setState({mode:""})},n.onMouseMove=function(e,t,n){console.log("GridItem onMouseMove",e),e.preventDefault()},n.state={x:n.props.x,y:n.props.y,mode:""},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillUnmount",value:function(){var e=s.a.findDOMNode(this);if(e){var t=e.ownerDocument;t.removeEventListener("mousedown",this.onMouseDown),t.removeEventListener("mouseup",this.onMouseUp),t.removeEventListener("mousemove",this.onMouseMove)}}},{key:"render",value:function(){var e={left:this.state.x,top:this.state.y,width:this.props.width,height:this.props.height,backgroundColor:"#f1f1f1",position:"absolute",zIndex:1};return o.a.createElement("div",{className:"grid-box",style:e},o.a.createElement("div",{className:"grid-box-title"},this.props.title),o.a.createElement(I,{onMouseUp:this.onMouseUp,onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,mode:this.state.mode}),o.a.createElement(N.a,{data:[{firstName:"a1",lastName:"b1"},{firstName:"a2",lastName:"b2"},{firstName:"a3",lastName:"b3"}],columns:[{Header:"First Name",accessor:"firstName"},{Header:"Last Name",accessor:"lastName"}],defaultPageSize:10}),o.a.createElement(U,{onMouseUp:this.onMouseUp,onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,mode:this.state.mode}))}}]),t}(o.a.Component),A=[{title:"title1",x:0,y:0,width:100,height:100},{title:"title2",x:100,y:100,width:100,height:100}],F=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={boxes:[],snapToGrid:!1,showGridlines:!0},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({boxes:A})}},{key:"render",value:function(){var e={width:600,height:400,position:"relative",margin:"20px",border:"1px solid blue"};this.state.showGridlines&&(e.backgroundSize="20px 20px",e.backgroundImage="linear-gradient(to right, grey 1px, transparent 1px), linear-gradient(to bottom, grey 1px, transparent 1px)");var t=this.state.boxes.map(function(e,t){return o.a.createElement(L,{key:t,x:e.x,y:e.y,width:e.width,height:e.height,title:e.title})});return o.a.createElement("div",{style:e},t)}}]),t}(o.a.Component),q=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={selectedOption:null,data:[{firstName:"a1",lastName:"b1"},{firstName:"a2",lastName:"b2"},{firstName:"a3",lastName:"b3"}]},n.onChange=function(e){console.log("change",e)},n.submit=function(){console.log("submit")},n.handleChange=function(e){n.setState({selectedOption:e}),console.log("Option selected:",e)},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){this.state.selectedOption;var e=this.state.data;return o.a.createElement("div",null,o.a.createElement(x.a,{mode:"mysql",theme:"xcode",name:"blah2",onChange:this.onChange,height:"300px",width:"300px",fontSize:18,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!0,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!1,showLineNumbers:!0,tabSize:2}}),o.a.createElement("button",{onClick:this.submit},"Submit"),o.a.createElement(N.a,{data:e,columns:[{Header:"First Name",accessor:"firstName"},{Header:"Last Name",accessor:"lastName"}],defaultPageSize:10}),o.a.createElement(F,null))}}]),t}(o.a.PureComponent),R=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,a=t.value,o=t.name;n.setState(Object(E.a)({},o,a))},n.save=function(e){e.preventDefault();var t={connectionUrl:n.state.connectionUrl,username:n.state.username,password:n.state.password,name:n.state.name,type:n.state.password,ping:n.state.ping},a=n.props.router;w.a.post("/ws/jdbcdatasource",t).then(function(e){n.reset(),a.push("/datasources")})},n.reset=function(){n.setState(n.initialState)},n.ping=function(){},n.state=n.initialState,n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;console.log("id",e);var t="Edit";void 0===e&&(t="New"),this.setState({mode:t})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,this.state.mode," Data Source"),o.a.createElement("div",null,o.a.createElement("button",{type:"primary",onClick:this.save},"Save"),o.a.createElement("button",{type:"primary",onClick:this.ping},"Ping")))}},{key:"initialState",get:function(){return{id:0,name:"",connectionUrl:"",username:"",password:"",type:"",ping:"",mode:""}}}]),t}(a.Component),Q=n(26),W=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={isSelectAll:!1},n.handleChange=function(e){var t=e.target,a=t.name,o=t.checked,r=Object(Q.a)(n.props.checkBoxes).find(function(e){return e.value===a});r.isChecked=o,n.props.onChange(n.props.filterId,r)},n.toggleSelectAll=function(){for(var e=!n.state.isSelectAll,t=Object(Q.a)(n.props.checkBoxes),a=0;a<t.length;a++)t[a].isChecked=e;n.props.onChange(n.props.filterId,t),n.setState(function(e){return{isSelectAll:!e.isSelectAll}})},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.checkBoxes.map(function(t,n){return o.a.createElement("div",{key:n},o.a.createElement("input",{type:"checkbox",name:t.value,value:t.value,checked:t.isChecked,onChange:e.handleChange}),t.value,o.a.createElement("br",null))});return o.a.createElement("div",null,o.a.createElement("button",{onClick:this.toggleSelectAll},"Toggle Select All ",this.state.isSelectAll),o.a.createElement("div",null,t))}}]),t}(o.a.Component),z=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,"min",o.a.createElement("input",{type:"number",name:"min"}),"max",o.a.createElement("input",{type:"number",name:"max"}))}}]),t}(o.a.Component),V=[{type:"slicer",id:1,dashboardId:1,data:{dataSourceId:2,sqlQuery:"select name from table",display:"Name",columns:[{name:"name",param:"name"},{name:"b",param:":column b"}]},queryResult:["s1","s2","s3"]}],B=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).renderFilterPanel=function(){console.log("renderFilterPanel");for(var e=[],t=n.state.filters,a=0;a<t.length;a++){var r=t[a];if("slicer"===r.type){console.log("11111");for(var s=r.queryResult,l=[],i=0;i<s.length;i++)l.push({value:s[i],isChecked:!1});e.push(o.a.createElement(W,{key:a,filterId:r.id,checkBoxes:l,onChange:n.onQuerySlicerChange}))}else"number-range"===r.type?e.push(o.a.createElement(z,{key:a})):r.type}return e},n.onQuerySlicerChange=function(e,t){console.log("onQuerySlicerChange",e,t);n.state.filters.find(function(t){return t.id===e});for(var a=[],o=0;o<t.length;o++)t[o].isChecked&&a.push(t[o])},n.fetchFilters=function(){console.log("fetchFilters"),n.setState({filters:V})},n.run=function(){console.log("run"),n.fetchFilters()},n.state={filters:V},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){console.log("componentDidMount"),this.fetchFilters()}},{key:"render",value:function(){return o.a.createElement("div",{className:"testPanel"},o.a.createElement("h5",null,"FilterViewPanel"),o.a.createElement("button",{onClick:this.run},"Run"),this.renderFilterPanel())}}]),t}(a.Component),G=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"testPanel"},"WidgetViewPanel")}}]),t}(o.a.Component),T=["table","pie"],H=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).fetchWidget=function(){var e=Object(b.a)(v.a.mark(function e(t){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:a=e.sent,n.setState({jdbcDataSources:a});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.handleInputChange=function(e){var t=e.target,a=t.value,o=t.name;n.setState(Object(E.a)({},o,a))},n.save=function(e){e.preventDefault();var t={id:n.state.widgetId,name:n.state.name,dashboardId:n.state.dashboardId,jdbcDataSourceId:n.state.jdbcDataSourceId,sqlQuery:n.state.sqlQuery};console.log("save",t)},n.close=function(){n.props.onClose()},n.runQuery=function(e){e.preventDefault();var t={id:n.state.jdbcDataSourceId,query:n.state.sqlQuery};w.a.post("/ws/jdbcquery/query",t).then(function(e){var t=e.data;n.setState({queryResult:t})})},n.handleAceEditorChange=function(e){n.setState({sqlQuery:e})},n.handleDataSourceChange=function(e){n.setState({jdbcDataSourceId:e.target.value})},n.state={jdbcDataSources:[],widgetId:null,name:"",dashboardId:null,sqlQuery:"",jdbcDataSourceId:null,queryResult:[]},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){console.log("WidgetEditPanel","componentDidMount")}},{key:"render",value:function(){var e=this,t=this.props.show?"right-drawer display-block":"right-drawer display-none",n=this.state.jdbcDataSources.map(function(e){return o.a.createElement("option",{value:e.id,key:e.id},e.name)}),a=T.map(function(e){return o.a.createElement("option",{value:e,key:e},e)}),r=[],s=this.state.queryResult;if(void 0!==s&&0!==s.length)for(var l=s[0],i=Object.keys(l),c=0;c<i.length;c++){var u=i[c];r.push({Header:u,accessor:u})}return o.a.createElement("div",{className:t},o.a.createElement("h3",null,"WidgetEditPanel"),o.a.createElement("button",{onClick:function(){return e.props.onClose()}},"Close"),o.a.createElement("button",{onClick:this.save},"Save"),o.a.createElement("button",{onClick:this.runQuery},"Run Query"),o.a.createElement("form",null,o.a.createElement("label",null,"Name"),o.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleInputChange}),o.a.createElement("label",null,"DataSource"),o.a.createElement("select",{value:this.state.jdbcDataSourceId,onChange:this.handleDataSourceChange},n),o.a.createElement("label",null,"SQL Query"),o.a.createElement(x.a,{style:{marginTop:"8px"},value:this.state.sqlQuery,mode:"mysql",theme:"xcode",name:"blah2",onChange:this.handleAceEditorChange,height:"300px",width:"100%",fontSize:15,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!0,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!1,showLineNumbers:!0,tabSize:2}}),o.a.createElement("label",null,"Result"),o.a.createElement(N.a,{data:this.state.queryResult,columns:r,defaultPageSize:10}),o.a.createElement("label",null,"Columns Mapping"),o.a.createElement("div",null,"column name, display name, data type"),o.a.createElement("label",null,"Chart Options"),o.a.createElement("select",{value:this.state.optionValue,onChange:this.handleOptionChange},a),o.a.createElement("label",null,o.a.createElement("i",{class:"fas fa-table"})," Table"),o.a.createElement("div",null),o.a.createElement("label",null,o.a.createElement("i",{class:"fas fa-chart-pie"})," Pie Chart"),o.a.createElement("div",null,'Count "users" by "last name"')))}}]),t}(o.a.Component),_=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.show?"right-drawer display-block":"right-drawer display-none";return o.a.createElement("div",{className:t},o.a.createElement("h3",null,"FilterEditPanel"),o.a.createElement("button",{onClick:function(){return e.props.onClose()}},"Close"))}}]),t}(o.a.Component),X=[{name:"ds1",id:1},{name:"ds2",id:2}],Y={dashboardId:1,filters:[{type:"slicer",id:1,dashboardId:1,data:{dataSourceId:2,sqlQuery:"select name from table",display:"Name",columns:[{name:"name",param:"name"},{name:"b",param:":column b"}]},queryResult:["s1","s2","s3"]}],widgets:[]},J=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).refresh=function(){console.log("refresh"),n.filterViewPanel.current.fetchFilters()},n.showFilterEditPanel=function(e){n.setState({showFilterEditPanel:!0})},n.showWidgetEditPanel=function(e){n.widgetEditPanel.current.fetchWidget(null),n.setState({showWidgetEditPanel:!0})},n.state={showWidgetEditPanel:!1,showFilterEditPanel:!1,jdbcDataSourceOptions:[],dashboardId:0,name:"",widgets:[],filters:[]},n.filterViewPanel=o.a.createRef(),n.widgetViewPanel=o.a.createRef(),n.widgetEditPanel=o.a.createRef(),n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){console.log("componentDidMount",1),this.initData(1)}},{key:"initData",value:function(){var e=Object(b.a)(v.a.mark(function e(t){var n,a,o,r,s,l;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=X,a=[],o=0;o<n.length;o++)a.push({label:n[o].name,value:n[o].id});this.setState({jdbcDataSourceOptions:a}),void 0!==t?(s=(r=Y).filters,l=r.widgets,console.log("filters",s),this.setState({dashboardId:t,filters:s,widgets:l})):this.setState({dashboardId:null,filters:[],widgets:[]});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("h3",null,"DashboardEditView"),o.a.createElement("button",{onClick:this.refresh},"Refresh"),o.a.createElement("button",{onClick:function(){return e.showFilterEditPanel(null)}},"Add Filter"),o.a.createElement("button",{onClick:function(){return e.showWidgetEditPanel(null)}},"Add Widget"),o.a.createElement(B,{ref:this.filterViewPanel}),o.a.createElement(G,{ref:this.widgetViewPanel}),o.a.createElement(H,{ref:this.widgetEditPanel,show:this.state.showWidgetEditPanel,onClose:function(){return e.setState({showWidgetEditPanel:!1})},jdbcDataSourceOptions:this.state.jdbcDataSourceOptions}),o.a.createElement(_,{ref:this.FilterEditPanel,show:this.state.showFilterEditPanel,onClose:function(){return e.setState({showFilterEditPanel:!1})},jdbcDataSourceOptions:this.state.jdbcDataSourceOptions}))}}]),t}(o.a.Component),K=Object(M.a)(J),Z=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).refresh=function(){console.log("refresh"),n.filterViewPanel.current.fetchFilters()},n.filterViewPanel=o.a.createRef(),n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h5",null,"SingleTest"),o.a.createElement(B,{ref:this.filterViewPanel}),o.a.createElement("button",{onClick:this.refresh},"Refresh"))}}]),t}(a.Component),$=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e){n.setState({current:e.key})},n.toggleMenu=function(){var e=""===n.state.menuMin?"menu-min":"";n.setState({menuMin:e})},n.state={current:"overview",menuMin:""},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"Nav"},o.a.createElement("div",{className:"Nav_title-bar"},o.a.createElement("div",{className:"Nav_title"},"Poli")),o.a.createElement("div",{className:"Nav_menu"},o.a.createElement("ul",{className:"menu"},o.a.createElement("li",null,o.a.createElement(m.a,{to:"/overview"},o.a.createElement("i",{class:"fas fa-heartbeat fa-fw"}),o.a.createElement("span",{class:"menu-text"},"Overview"))),o.a.createElement("li",null,o.a.createElement(m.a,{to:"/datasources"},o.a.createElement("i",{class:"fas fa-database fa-fw"}),o.a.createElement("span",{class:"menu-text"},"Data Sources"))),o.a.createElement("li",null,o.a.createElement(m.a,{to:"/dashboards"},o.a.createElement("i",{class:"fas fa-chalkboard fa-fw"}),o.a.createElement("span",{class:"menu-text"},"Dashboards"))),o.a.createElement("li",null,o.a.createElement(m.a,{to:"/test"},"Test")),o.a.createElement("li",null,o.a.createElement(m.a,{to:"/single-test"},"SingleTest"))),o.a.createElement("div",{className:"Nav__toggle-menu"},o.a.createElement("div",{onClick:this.toggleMenu},"toggle")))),o.a.createElement("div",{className:"Status_bar ".concat(this.state.menuMin)}),o.a.createElement("div",{className:"Content ".concat(this.state.menuMin)},o.a.createElement(h.a,{exact:!0,path:"/",component:p}),o.a.createElement(h.a,{exact:!0,path:"/overview",component:p}),o.a.createElement(h.a,{exact:!0,path:"/datasources",component:j}),o.a.createElement(h.a,{exact:!0,path:"/dashboards",component:D}),o.a.createElement(h.a,{exact:!0,path:"/test",component:q}),o.a.createElement(h.a,{exact:!0,path:"/datasources/new",component:R}),o.a.createElement(h.a,{exact:!0,path:"/datasources/edit/:id",component:R}),o.a.createElement(h.a,{exact:!0,path:"/dashboard/new",component:K}),o.a.createElement(h.a,{exact:!0,path:"/dashboard/edit/:id",component:K}),o.a.createElement(h.a,{exact:!0,path:"/single-test",component:Z})))}}]),t}(a.Component),ee=n(83);s.a.render(o.a.createElement(ee.a,{basename:"/poli"},o.a.createElement($,null)),document.getElementById("root"))}},[[42,2,1]]]);
//# sourceMappingURL=main.16c93ac4.chunk.js.map