(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a(74)},40:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),l=a.n(c),o=a(4),i=a(5),s=a(7),u=a(6),d=a(8),m=(a(40),a(75)),h=a(76),p=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Overview"))}}]),t}(n.Component),b=a(9),v=a.n(b),f=a(13),E=a(14),g=a(3),w=a.n(g),y=function(){var e=Object(f.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/ws/jdbcdatasource");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(f.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/ws/dashboard/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(f.a)(v.a.mark(function e(t){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get(t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),O=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1,jdbcDataSources:[],mode:"",id:0,name:"",connectionUrl:"",username:"",password:"",type:"",ping:""},a.handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(E.a)({},r,n))},a.save=function(e){e.preventDefault();var t={connectionUrl:a.state.connectionUrl,username:a.state.username,password:a.state.password,name:a.state.name,type:a.state.password,ping:a.state.ping};w.a.post("/ws/jdbcdatasource",t).then(function(e){a.initData()})},a.update=function(e){console.log("update",e),w.a.put("/ws/jdbcdatasource",e).then(function(e){a.initData()})},a.delete=function(e){console.log("delete",e),w.a.delete("/ws/jdbcdatasource/"+e).then(function(e){a.initData()})},a.ping=function(e){w.a.get("/ws/jdbcdatasource/ping/".concat(e)).then(function(e){console.log("ping",e.data)})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.initData()}},{key:"initData",value:function(){var e=Object(f.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:t=e.sent,this.setState({jdbcDataSources:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.jdbcDataSources.map(function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.connectionUrl),r.a.createElement("td",null,t.type),r.a.createElement("td",null,t.username),r.a.createElement("td",null,t.ping),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return e.update(t)}},"update")),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return e.delete(t.id)}},"delete")),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return e.ping(t.id)}},"ping")))});return r.a.createElement("div",null,r.a.createElement("h1",null,"Data Sources"),r.a.createElement("div",null,r.a.createElement("h2",null,"Table"),r.a.createElement("table",null,r.a.createElement("thead",null),r.a.createElement("tbody",null,t))),r.a.createElement("button",{onClick:this.showDrawer},"Add"),r.a.createElement("button",null,r.a.createElement(m.a,{to:"/datasources/new"},"New")),r.a.createElement("button",null,r.a.createElement(m.a,{to:"/datasources/edit/1"},"Edit")),r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleInputChange}),r.a.createElement("label",null,"Connection Url"),r.a.createElement("textarea",{row:"3",type:"text",name:"connectionUrl",value:this.state.connectionUrl,onChange:this.handleInputChange}),r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleInputChange}),r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleInputChange}),r.a.createElement("label",null,"Type"),r.a.createElement("input",{type:"text",name:"type",value:this.state.type,onChange:this.handleInputChange}),r.a.createElement("label",null,"Ping"),r.a.createElement("input",{type:"text",name:"ping",value:this.state.ping,onChange:this.handleInputChange})),r.a.createElement("div",null,r.a.createElement("button",{onClick:this.save},"Save"),r.a.createElement("button",{onClick:this.ping},"Ping"))))}}]),t}(n.Component),C=a(78),S=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={dashboards:[]},a.fetchBoards=function(){w.a.get("/ws/dashboard").then(function(e){var t=e.data;a.setState({dashboards:t})})},a.save=function(){},a.update=function(e){a.props.history.push("/dashboard/edit/".concat(e))},a.delete=function(){},a.jump=function(){a.props.history.push("/overview")},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchBoards()}},{key:"render",value:function(){var e=this,t=this.state.dashboards.map(function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.name),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return e.update(t.id)}},"update")))});return r.a.createElement("div",null,"Board",r.a.createElement("button",{onClick:this.jump},"Overview"),r.a.createElement("button",{onClick:function(){return e.props.history.push("/dashboard/new")}},"New"),r.a.createElement("table",null,r.a.createElement("thead",null),r.a.createElement("tbody",null,t)))}}]),t}(n.Component),D=Object(C.a)(S),x=a(34),I=a.n(x),A=(a(72),a(73),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){console.log("change",e)},a.submit=function(){console.log("submit")},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(I.a,{mode:"mysql",theme:"xcode",name:"blah2",onChange:this.onChange,height:"300px",width:"300px",fontSize:18,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!0,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!1,showLineNumbers:!0,tabSize:2}}),r.a.createElement("button",{onClick:this.submit},"Submit"))}}]),t}(r.a.PureComponent)),F=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(E.a)({},r,n))},a.save=function(e){e.preventDefault();var t={connectionUrl:a.state.connectionUrl,username:a.state.username,password:a.state.password,name:a.state.name,type:a.state.password,ping:a.state.ping},n=a.props.router;w.a.post("/ws/jdbcdatasource",t).then(function(e){a.reset(),n.push("/datasources")})},a.reset=function(){a.setState(a.initialState)},a.ping=function(){},a.state=a.initialState,a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;console.log("id",e);var t="Edit";void 0===e&&(t="New"),this.setState({mode:t})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,this.state.mode," Data Source"),r.a.createElement("div",null,r.a.createElement("button",{type:"primary",onClick:this.save},"Save"),r.a.createElement("button",{type:"primary",onClick:this.ping},"Ping")))}},{key:"initialState",get:function(){return{id:0,name:"",connectionUrl:"",username:"",password:"",type:"",ping:"",mode:""}}}]),t}(n.Component),N=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={mode:"",jdbcDataSources:[],dashboardId:0,name:"",widgets:[],filters:[],slicer:{},showAddFilter:!1,jdbcDataSourceId:1},a.handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(E.a)({},r,n))},a.saveDashboard=function(e){e.preventDefault();var t={name:a.state.name};w.a.post("/ws/dashboard",t).then(function(e){var t=e.data.id;a.setState({dashboardId:t})})},a.addFilter=function(){a.setState({showAddFilter:!a.state.showAddFilter})},a.saveFilter=function(e){e.preventDefault();var t={dashboardId:a.state.dashboardId,data:{type:"slicer",sqlQuery:"select name from page group by name;"}};w.a.post("/ws/filter",t).then(function(e){})},a.saveWidget=function(e){e.preventDefault();var t={dashboardId:a.state.dashboardId,jdbcDataSourceId:a.state.jdbcDataSourceId,data:{sqlQuery:"select * from page"}};w.a.post("/ws/widget",t).then(function(e){})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;console.log("id",e);var t="Edit";void 0===e&&(t="New"),this.setState({mode:t}),this.initData(e)}},{key:"initData",value:function(){var e=Object(f.a)(v.a.mark(function e(t){var a,n,r,c;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:if(a=e.sent,this.setState({jdbcDataSources:a}),void 0===t){e.next=12;break}return e.next=7,j(t);case 7:n=e.sent,r=n.filters,c=n.widgets,console.log("filters",r),this.setState({dashboardId:t,filters:r,widgets:c});case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"initFilter",value:function(){}},{key:"initWidget",value:function(){}},{key:"render",value:function(){var e=this.state.showAddFilter?"right-drawer display-block":"right-drawer display-none",t=this.state.filters.map(function(e,t){return r.a.createElement("div",{key:t},e.dashboardId," - ",e.data.type," - ",e.data.sqlQuery)}),a=this.state.jdbcDataSources.map(function(e,t){return r.a.createElement("div",{key:t},e.id," - ",e.name)}),n=this.state.widgets.map(function(e,t){return r.a.createElement("div",{key:t},e.id," - ",e.data.sqlQuery)});return r.a.createElement("div",null,r.a.createElement("h3",null,"Edit Board"),r.a.createElement("div",null,r.a.createElement("h4",null,"Board - id: ",this.state.dashboardId),r.a.createElement("form",null,r.a.createElement("label",null,"Name"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleInputChange})),r.a.createElement("button",{onClick:this.saveDashboard},"Save")),r.a.createElement("div",null,r.a.createElement("h5",null,"Datasources"),a),r.a.createElement("div",null,r.a.createElement("h5",null,"Widgets"),r.a.createElement("button",{onClick:this.saveWidget},"save Widget"),r.a.createElement("div",null,n)),r.a.createElement("div",null,r.a.createElement("h5",null,"Filters"),r.a.createElement("button",{onClick:this.addFilter},"add filter"),t),r.a.createElement("div",{className:e},r.a.createElement("h5",null,"Add Filter"),r.a.createElement("button",{onClick:this.saveFilter},"save filter")))}}]),t}(n.Component),U=Object(C.a)(N),B=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e){a.setState({current:e.key})},a.state={current:"overview"},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"nav"},r.a.createElement(m.a,{to:"/overview"},"Overview"),r.a.createElement(m.a,{to:"/datasources"},"Data Sources"),r.a.createElement(m.a,{to:"/dashboards"},"Dashboards"),r.a.createElement(m.a,{to:"/test"},"Test")),r.a.createElement("div",{className:"content"},r.a.createElement(h.a,{exact:!0,path:"/",component:p}),r.a.createElement(h.a,{exact:!0,path:"/overview",component:p}),r.a.createElement(h.a,{exact:!0,path:"/datasources",component:O}),r.a.createElement(h.a,{exact:!0,path:"/dashboards",component:D}),r.a.createElement(h.a,{exact:!0,path:"/test",component:A}),r.a.createElement(h.a,{exact:!0,path:"/datasources/new",component:F}),r.a.createElement(h.a,{exact:!0,path:"/datasources/edit/:id",component:F}),r.a.createElement(h.a,{exact:!0,path:"/dashboard/new",component:U}),r.a.createElement(h.a,{exact:!0,path:"/dashboard/edit/:id",component:U})))}}]),t}(n.Component),M=a(77);l.a.render(r.a.createElement(M.a,null,r.a.createElement(B,null)),document.getElementById("root"))}},[[35,2,1]]]);
//# sourceMappingURL=main.c8b75501.chunk.js.map