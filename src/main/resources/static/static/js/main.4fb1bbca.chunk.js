(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{184:function(e,t,a){},309:function(e,t,a){e.exports=a(819)},314:function(e,t,a){},811:function(e,t,a){},819:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(29),s=a.n(i),o=a(8),l=a(9),c=a(11),u=a(10),d=a(12),h=(a(314),a(821)),p=a(823),m=a(820),f=a(27),v=a.n(f),g=a(45),b=a(40),E=a(13),w=a.n(E),y=function(){var e=Object(g.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("/ws/jdbcdatasource");case 3:return t=e.sent,e.abrupt("return",t.data||[]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(g.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("/ws/filter/dashboard/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(g.a)(v.a.mark(function e(t){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get(t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),j=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.show?"display-block":"display-none";return r.a.createElement("div",{className:"modal-overlay ".concat(t)},r.a.createElement("div",{className:this.props.modalClass},r.a.createElement("button",{onClick:function(){return e.props.onClose()}},"Close"),r.a.createElement("div",{className:"modal-body"},this.props.children)))}}]),t}(r.a.Component),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(b.a)({},r,n))},a.save=function(e){e.preventDefault();var t=a.state,n=t.showUpdatePassword,r=t.id,i=t.connectionUrl,s=t.username,o=t.password,l={connectionUrl:i,username:s,name:t.name,type:t.type,ping:t.ping};null!==r?(l.id=r,n&&(l.password=o),w.a.put("/ws/jdbcdatasource",l).then(function(e){a.fetchDataSources()})):(l.password=o,w.a.post("/ws/jdbcdatasource",l).then(function(e){a.closeEditPanel(),a.fetchDataSources()}))},a.delete=function(e){console.log("delete",e),w.a.delete("/ws/jdbcdatasource/"+e).then(function(e){a.fetchDataSources()})},a.ping=function(e){w.a.get("/ws/jdbcdatasource/ping/".concat(e)).then(function(e){console.log("ping",e.data)})},a.clearEditPanel=function(){a.setState(a.initialState)},a.openEditPanel=function(e){null!==e?a.setState({showUpdatePassword:!1,id:e.id,connectionUrl:e.connectionUrl,username:e.username,password:e.password,name:e.name,type:e.type,ping:e.ping}):a.clearEditPanel(),a.setState({showEditPanel:!0})},a.closeEditPanel=function(){a.setState({showEditPanel:!1})},a.openDeletePanel=function(){},a.toggleUpdatePassword=function(){a.setState(function(e){return{showUpdatePassword:!e.showUpdatePassword}})},a.state={jdbcDataSources:[],showEditPanel:!1,showUpdatePassword:!1,id:null,name:"",connectionUrl:"",username:"",password:"",type:"",ping:""},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchDataSources()}},{key:"fetchDataSources",value:function(){var e=Object(g.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:t=e.sent,this.setState({jdbcDataSources:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,a=this.state,n=a.showUpdatePassword,i=a.id,s=a.jdbcDataSources.map(function(e,a){return r.a.createElement("div",{key:a,className:"datasource-panel"},r.a.createElement("p",null,e.name,e.connectionUrl,e.username,e.ping,r.a.createElement("button",{onClick:function(){return t.openEditPanel(e)}},"update"),r.a.createElement("button",{onClick:function(){return t.delete(e.id)}},"delete"),r.a.createElement("button",{onClick:function(){return t.ping(e.id)}},"ping")))}),o=r.a.createElement("div",null,r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleInputChange}));return null===i?e="New":(e="Update",n||(o=r.a.createElement("button",{onClick:this.toggleUpdatePassword},"Update password"))),r.a.createElement("div",null,r.a.createElement("h1",null,"Data Sources"),r.a.createElement("input",{type:"text",name:"searchValue",placeholder:"Data source name..."}),r.a.createElement("div",{className:"row"},s),r.a.createElement("button",{onClick:function(){return t.openEditPanel(null)}},"Add"),r.a.createElement(j,{show:this.state.showEditPanel,onClose:this.closeEditPanel,modalClass:"lg-modal-panel"},r.a.createElement("div",null,r.a.createElement("h3",null,e),r.a.createElement("form",null,r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleInputChange}),r.a.createElement("label",null,"Connection Url"),r.a.createElement("textarea",{row:"3",type:"text",name:"connectionUrl",value:this.state.connectionUrl,onChange:this.handleInputChange}),r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleInputChange}),o,r.a.createElement("br",null),r.a.createElement("label",null,"Type"),r.a.createElement("input",{type:"text",name:"type",value:this.state.type,onChange:this.handleInputChange}),r.a.createElement("label",null,"Ping"),r.a.createElement("input",{type:"text",name:"ping",value:this.state.ping,onChange:this.handleInputChange})),r.a.createElement("div",null,r.a.createElement("button",{onClick:this.save},"Save")))))}},{key:"initialState",get:function(){return{showUpdatePassword:!1,id:null,name:"",connectionUrl:"",username:"",password:"",type:"",ping:""}}}]),t}(n.Component),k=a(824),x=(a(184),a(21)),I=a(30),M=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isSelectAll:!1,searchValue:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.checked,i=Object(I.a)(a.props.checkBoxes),s=i.findIndex(function(e){return e.value===n});i[s].isChecked=r,a.props.onChange(a.props.filterId,i)},a.toggleSelectAll=function(){for(var e=!a.state.isSelectAll,t=Object(I.a)(a.props.checkBoxes),n=0;n<t.length;n++)t[n].isChecked=e;a.props.onChange(a.props.filterId,t),a.setState(function(e){return{isSelectAll:!e.isSelectAll}})},a.handleSearchValueChange=function(e){var t=e.target.value;if(t)for(var n=[],r=a.props.checkBoxes,i=0;i<r.length;i++)-1!==r[i].value.indexOf(t)&&n.push(r[i]);a.setState({searchValue:t})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.checkBoxes,a=[];return void 0!==t&&0!==t.length&&(a=this.props.checkBoxes.map(function(t,a){return r.a.createElement("div",{key:a},r.a.createElement("input",{type:"checkbox",name:t.value,value:t.value,checked:t.isChecked,onChange:e.handleChange}),t.value,r.a.createElement("br",null))})),r.a.createElement("div",null,r.a.createElement("button",{onClick:this.toggleSelectAll},"Toggle Select All ",this.state.isSelectAll),r.a.createElement("input",{type:"text",name:"name",value:this.state.searchValue,onChange:this.handleSearchValueChange}),r.a.createElement("div",null,a))}}]),t}(r.a.Component),D=(r.a.Component,function(e){return!Array.isArray(e)||!e.length}),P="slicer",N="single",W=[P,N],T="pie",F="table",V=[F,T],U=200,q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).fetchFilters=function(e){null!==e&&(a.setState({dashboardId:e}),w.a.get("/ws/filter/dashboard/"+e).then(function(e){var t=e.data;a.setState({filters:t},a.queryFilters)}))},a.queryFilters=function(){for(var e=a.state.filters,t=0;t<e.length;t++){var n=e[t];if(n.type===P){var r=n.data;w.a.post("/ws/jdbcquery/filter/"+n.id,r).then(function(t){var n=t.data,r=JSON.parse(n.data),i=e.findIndex(function(e){return e.id===n.id}),s=Object(I.a)(a.state.filters);s[i].queryResult=r;var o=s[i].type;if(o===P){var l=[];if(!D(r))for(var c=0;c<r.length;c++)for(var u=Object.values(r[c]),d=0;d<u.length;d++){var h=u[d];l.push({value:h,isChecked:!1})}s[i].checkBoxes=l}else if(o===N){for(var p=Object.values(r),m="",f=0;f<p.length;f++){m=p[f];break}s[i].value=m}a.setState({filters:s})})}}},a.renderFilterPanel=function(){for(var e=[],t=a.state.filters,n=function(n){var i=t[n],s=r.a.createElement("div",null,"NONE");if(i.type===P){var o=i.checkBoxes;s=r.a.createElement(M,{key:n,filterId:i.id,checkBoxes:o,onChange:a.onSlicerChange})}else i.type===N&&(s=r.a.createElement("input",{type:"text",value:i.value,onChange:function(e){return a.onSingleValueChange(i.id,e)}}));e.push(r.a.createElement("div",{className:"filter-card"},r.a.createElement("div",{className:"filter-card-title"},i.name,a.props.isEditMode?r.a.createElement("div",{className:"icon-button-group"},r.a.createElement("div",{className:"icon-btn",onClick:function(){return a.edit(i.id)}},r.a.createElement("i",{className:"fas fa-edit fa-fw"})),r.a.createElement("div",{className:"icon-btn",onClick:function(){return a.remove(i.id)}},r.a.createElement("i",{className:"fas fa-trash-alt fa-fw"}))):null),r.a.createElement("div",null,s)))},i=0;i<t.length;i++)n(i);return e},a.edit=function(e){a.props.onEdit(e)},a.remove=function(e){w.a.delete("/ws/filter/"+e).then(function(t){var n=a.state.filters.findIndex(function(t){return t.id===e}),r=Object(I.a)(a.state.filters);r.splice(n,1),a.setState({filters:r})})},a.onSlicerChange=function(e,t){var n=a.state.filters.findIndex(function(t){return t.id===e}),r=Object(I.a)(a.state.filters);r[n].checkBoxes=Object(I.a)(t),a.setState({filters:r})},a.onSingleValueChange=function(e,t){var n=a.state.filters,r=t.target.value,i=n.findIndex(function(t){return t.id===e}),s=Object(I.a)(n);s[i].value=r,a.setState({filters:s})},a.applyFilters=function(){console.log("applyFilters");for(var e=a.state.filters,t=[],n=0;n<e.length;n++){var r=e[n],i={};if(r.type===P){for(var s=r.checkBoxes,o=[],l=0;l<s.length;l++){var c=s[l];c.isChecked&&o.push(c.value)}i.value=o,o.length===s.length&&(i.remark="select all")}else r.type===N&&(i.value=r.value);i.param=r.data.param,i.type=r.type,t.push(i)}a.props.onApplyFilters(t)},a.state={dashboardId:null,filters:[]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.show,t={};return t.width=e?U+"px":"0px",r.a.createElement("div",{className:"dashboard-content-filter-panel",style:t},r.a.createElement("h5",null,"FilterViewPanel"),r.a.createElement("button",{onClick:this.applyFilters},"Run"),r.a.createElement("div",{className:"filterViewPanel"},this.renderFilterPanel()))}}]),t}(n.Component),R=a(70),A=(a(100),a(306)),L=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={displayColorPicker:!1,color:{r:"241",g:"112",b:"19",a:"1"}},a.handleClick=function(){a.setState(function(e){return{displayColorPicker:!e.displayColorPicker}})},a.handleClose=function(){a.setState({displayColorPicker:!1})},a.handleChange=function(e){a.setState({color:e.rgb})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e={width:"36px",height:"14px",borderRadius:"2px",background:"rgba(".concat(this.state.color.r,", ").concat(this.state.color.g,", ").concat(this.state.color.b,", ").concat(this.state.color.a,")")};return r.a.createElement("div",null,r.a.createElement("div",{style:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},onClick:this.handleClick},r.a.createElement("div",{style:e})),this.state.displayColorPicker?r.a.createElement("div",{style:{position:"absolute",zIndex:"2"}},r.a.createElement("div",{style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},onClick:this.handleClose}),r.a.createElement(A.ChromePicker,{color:this.state.color,onChange:this.handleChange})):null)}}]),t}(n.Component),Q=2,G=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onMouseDown=function(e){e.preventDefault();for(var t=s.a.findDOMNode(Object(x.a)(Object(x.a)(a))).parentNode,n=e.clientX-t.offsetLeft,r=e.clientY-t.offsetTop,i=document.getElementsByClassName("grid-box"),o=0;o<i.length;o++)i[o].style.zIndex=20;t.style.zIndex=30;var l=t.ownerDocument;l.addEventListener("mouseup",a.onMouseUp),l.addEventListener("mousemove",a.onMouseMove),a.setState({xOffset:n,yOffset:r}),a.props.onMouseDown("drag")},a.onMouseUp=function(e){e.preventDefault();var t=s.a.findDOMNode(Object(x.a)(Object(x.a)(a)));if(t){var n=t.ownerDocument;n.removeEventListener("mousedown",a.onMouseDown),n.removeEventListener("mouseup",a.onMouseUp),n.removeEventListener("mousemove",a.onMouseMove)}a.props.onMouseUp()},a.onMouseMove=function(e){if(e.preventDefault(),"drag"===a.props.mode){var t=1;a.props.snapToGrid&&(t=4);var n=s.a.findDOMNode(Object(x.a)(Object(x.a)(a))).parentNode,r=e.clientX-a.state.xOffset,i=e.clientY-a.state.yOffset,o=n.parentNode,l=o.clientWidth,c=o.clientHeight,u=parseInt(n.style.width,10)+2*Q,d=parseInt(n.style.height,10)+2*Q;r<0&&(r=0),i<0&&(i=0),r+u>l&&(r=l-u),i+d>c&&(i=c-d),r=Math.floor(r/t)*t,i=Math.floor(i/t)*t,n.style.left=r+"px",n.style.top=i+"px"}},a.state={xOffset:0,yOffset:0},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){var e=s.a.findDOMNode(this);if(e){var t=e.ownerDocument;t.removeEventListener("mousedown",this.onMouseDown),t.removeEventListener("mouseup",this.onMouseUp),t.removeEventListener("mousemove",this.onMouseMove)}}},{key:"render",value:function(){return r.a.createElement("div",{className:"grid-draggable",onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp},r.a.createElement("i",{class:"fas fa-expand-arrows-alt fa-fw"}))}}]),t}(r.a.Component),B=30,z=30,X=2,Y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onMouseDown=function(e){e.preventDefault();var t=s.a.findDOMNode(Object(x.a)(Object(x.a)(a))),n=e.clientX,r=e.clientY,i=t.ownerDocument;i.addEventListener("mouseup",a.onMouseUp),i.addEventListener("mousemove",a.onMouseMove),a.setState({currentX:n,currentY:r}),a.props.onMouseDown("resize")},a.onMouseUp=function(e){e.preventDefault();var t=s.a.findDOMNode(Object(x.a)(Object(x.a)(a)));if(t){var n=t.ownerDocument;n.removeEventListener("mousedown",a.onMouseDown),n.removeEventListener("mouseup",a.onMouseUp),n.removeEventListener("mousemove",a.onMouseMove)}a.props.onMouseUp()},a.onMouseMove=function(e){if(e.preventDefault(),"resize"===a.props.mode){var t=e.clientX-a.state.currentX,n=e.clientY-a.state.currentY,r=s.a.findDOMNode(Object(x.a)(Object(x.a)(a))).parentNode,i=parseInt(r.style.width,10),o=parseInt(r.style.height,10),l=r.parentNode,c=l.clientWidth,u=l.clientHeight,d=Math.floor(i+t),h=Math.floor(o+n);d<B&&(d=B),h<z&&(h=z);var p=r.offsetLeft+2*X,m=r.offsetTop+2*X;d+p>c&&(d=c-p),h+m>u&&(h=u-m),r.style.width=d+"px",r.style.height=h+"px",a.setState({currentX:e.clientX,currentY:e.clientY})}},a.state={currentX:0,currentY:0},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){var e=s.a.findDOMNode(this);if(e){var t=e.ownerDocument;t.removeEventListener("mousedown",this.onMouseDown),t.removeEventListener("mouseup",this.onMouseUp),t.removeEventListener("mousemove",this.onMouseMove)}}},{key:"render",value:function(){return r.a.createElement("div",{className:"grid-resizable",onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp},r.a.createElement("i",{class:"fas fa-compress fa-fw"}))}}]),t}(r.a.Component),J=a(78),H=a.n(J),K=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],_=function(e,t){return{color:K,tooltip:{},legend:{data:e,orient:"vertical",right:10,top:10,bottom:10},series:[{type:"pie",center:["50%","50%"],radius:"50%",data:t}]}},$=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onMouseDown=function(e){console.log("GridItem onMouseDown",e),a.setState({mode:e})},a.onMouseUp=function(){console.log("GridItem onMouseUp"),a.setState({mode:""});var e=s.a.findDOMNode(Object(x.a)(Object(x.a)(a))),t=e.offsetLeft,n=e.offsetTop,r=parseInt(e.style.width,10),i=parseInt(e.style.height,10),o={id:a.props.id,x:t,y:n,width:r,height:i};a.props.onWidgetMove(o)},a.onMouseMove=function(e,t,a){e.preventDefault()},a.editWidget=function(e){a.props.onWidgetEdit(e)},a.exportCsv=function(e){},a.exportJson=function(e){},a.removeWidget=function(e){a.props.onWidgetRemove(e)},a.onTdPropsChange=function(e,t,a,n){return{onClick:function(e,r){console.log("A Td Element was clicked!"),console.log("it produced this event:",e),console.log("It was in this column:",a),console.log("It was in this row:",t),console.log("It was in this table instance:",n),r&&r()}}},a.renderWidgetContent=function(){var e=a.props,t=e.chartType,n=e.queryResult,i=r.a.createElement("div",null,"NONE");if(t===F){var s=[];if(!D(n))for(var o=n[0],l=Object.keys(o),c=0;c<l.length;c++){var u=l[c];s.push({Header:u,accessor:u})}i=r.a.createElement(R.a,{data:n,columns:s,minRows:0,showPagination:!1,getTdProps:a.onTdPropsChange})}else if(t===T){var d=a.props.data,h=d.name,p=d.value;if(!D(n)){for(var m=[],f=[],v=0;v<n.length;v++){var g=n[v];m.push(g[h]),f.push({name:g[h],value:g[p]})}var b=_(m,f);i=r.a.createElement(H.a,{option:b,className:"echarts"})}}return i},a.state={mode:""},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){var e=s.a.findDOMNode(this);if(e){var t=e.ownerDocument;t.removeEventListener("mousedown",this.onMouseDown),t.removeEventListener("mouseup",this.onMouseUp),t.removeEventListener("mousemove",this.onMouseMove)}}},{key:"render",value:function(){var e=this,t={left:this.props.x+"px",top:this.props.y+"px",width:this.props.width+"px",height:this.props.height+"px",zIndex:1};return r.a.createElement("div",{className:"grid-box",style:t},r.a.createElement("div",{className:"grid-box-title"},this.props.name,this.props.isEditMode?r.a.createElement("div",{className:"icon-button-group",style:{marginRight:"20px"}},r.a.createElement("div",{className:"icon-btn",onClick:function(){return e.editWidget(e.props.id)}},r.a.createElement("i",{className:"fas fa-edit fa-fw"})),r.a.createElement("div",{className:"icon-btn",onClick:function(){return e.removeWidget(e.props.id)}},r.a.createElement("i",{className:"fas fa-trash-alt fa-fw"}))):r.a.createElement("div",{className:"icon-button-group",style:{marginRight:"20px"}},r.a.createElement("div",{className:"icon-btn",onClick:function(){return e.exportJson(e.props.id)}},r.a.createElement("i",{class:"fas fa-file-export fa-fw"})),r.a.createElement("div",{className:"icon-btn",onClick:function(){return e.exportCsv(e.props.id)}},r.a.createElement("i",{className:"fas fa-file-csv fa-fw"})))),r.a.createElement("div",{className:"grid-box-content"},this.renderWidgetContent()),this.props.isEditMode?r.a.createElement(G,{onMouseUp:this.onMouseUp,onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,mode:this.state.mode,snapToGrid:this.props.snapToGrid}):null,this.props.isEditMode?r.a.createElement(Y,{onMouseUp:this.onMouseUp,onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,mode:this.state.mode}):null)}}]),t}(r.a.Component),Z=(a(811),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t={width:this.props.width+"px",height:this.props.height+"px"};this.props.showGridlines&&(t.backgroundSize="15px 15px",t.backgroundImage="radial-gradient(rgb(63, 93, 131) 10%, transparent 10%)");var a=this.props.widgets.map(function(t,a){return r.a.createElement($,Object.assign({key:a,snapToGrid:e.props.snapToGrid,isEditMode:e.props.isEditMode},t,{onWidgetMove:e.props.onWidgetMove,onWidgetEdit:e.props.onWidgetEdit,onWidgetRemove:e.props.onWidgetRemove}))});return r.a.createElement("div",{className:"grid-layout",style:t},a)}}]),t}(r.a.Component)),ee=1200,te=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).resizeGrid=function(e,t){var n=a.state.gridWidth,r=a.state.widgets,i=Object(I.a)(r);t&&a.resizeWidgetsToBase(i,n);var s=e-20;a.resizeWidgetsToActual(i,s),a.setState({widgets:i,gridWidth:s})},a.resizeWidgetsToBase=function(e,t){for(var n=0;n<e.length;n++){var r=a.scaleToBase(e[n].x,t),i=a.scaleToBase(e[n].width,t);e[n].x=r,e[n].width=i}},a.resizeWidgetsToActual=function(e,t){for(var n=0;n<e.length;n++){var r=a.scaleToActual(e[n].x,t),i=a.scaleToActual(e[n].width,t);e[n].x=r,e[n].width=i}},a.scaleToActual=function(e,t){return Math.round(e*t/ee)},a.scaleToBase=function(e,t){return Math.round(e*ee/t)},a.fetchWidgets=function(e,t,n){null!==e&&w.a.get("/ws/widget/dashboard/"+e).then(function(e){var r=e.data;a.setState({widgets:r},function(){a.resizeGrid(t,!1),a.queryWidgets(n)})})},a.queryWidgets=function(e){for(var t=null===e?[]:e,n=a.state.widgets,r=0;r<n.length;r++){var i=n[r];w.a.post("/ws/jdbcquery/widget/"+i.id,t).then(function(e){var t=e.data,r=n.findIndex(function(e){return e.id===t.id}),i=Object(I.a)(n);i[r].queryResult=JSON.parse(t.data),a.setState({widgets:i})})}},a.handleChange=function(e){var t=e.target,n=t.name,r=t.checked;a.setState(Object(b.a)({},n,r))},a.saveWidgets=function(){var e=JSON.parse(JSON.stringify(a.state.widgets)),t=a.state.gridWidth;a.resizeWidgetsToBase(e,t),w.a.post("/ws/widget/position",e).then(function(e){})},a.onWidgetMove=function(e){console.log("onWidgetMove",e);var t=a.state.widgets,n=t.findIndex(function(t){return t.id===e.id}),r=Object(I.a)(t);r[n].x=e.x,r[n].y=e.y,r[n].width=e.width,r[n].height=e.height,a.setState({widgets:r})},a.onWidgetRemove=function(e){w.a.delete("/ws/widget/"+e).then(function(t){var n=a.state.widgets,r=n.findIndex(function(t){return t.id===e}),i=Object(I.a)(n);i.splice(r,1),a.setState({widgets:i})})},a.state={widgets:[],gridWidth:1200,height:600,snapToGrid:!1,showGridlines:!0},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e={width:this.props.widgetViewWidth+"px"};return r.a.createElement("div",{className:"dashboard-content-widget-panel",style:e},this.props.isEditMode?r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",name:"snapToGrid",value:"snapToGrid",checked:this.state.snapToGrid,onChange:this.handleChange}),"snapToGrid",r.a.createElement("br",null),r.a.createElement("input",{type:"checkbox",name:"showGridlines",value:"showGridlines",checked:this.state.showGridlines,onChange:this.handleChange}),"showGridlines",r.a.createElement("br",null),r.a.createElement("label",null,"Background Color"),r.a.createElement(L,null)):null,r.a.createElement(Z,{width:this.state.gridWidth,height:this.props.height,snapToGrid:this.state.snapToGrid,showGridlines:this.state.showGridlines,widgets:this.state.widgets,isEditMode:this.props.isEditMode,onWidgetMove:this.onWidgetMove,onWidgetEdit:this.props.onWidgetEdit,onWidgetRemove:this.onWidgetRemove}))}}]),t}(r.a.Component),ae=a(132),ne=a.n(ae),re=(a(304),a(305),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).fetchWidget=function(){var e=Object(g.a)(v.a.mark(function e(t,n){var r,i;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState(a.initialState),e.next=3,y();case 3:return r=e.sent,a.setState({jdbcDataSources:r}),e.next=7,C(n);case 7:i=e.sent,a.setState({filters:i}),null===t?(0!==r.length&&a.setState({jdbcDataSourceId:r[0].id}),0!==i.length&&a.setState({filterId:i[0].id}),a.setState({widgetId:null})):(a.setState({widgetId:t}),w.a.get("/ws/widget/"+t).then(function(e){var n=e.data;a.setState({widgetId:t,name:n.name,x:n.x,y:n.y,width:n.width,height:n.height,sqlQuery:n.sqlQuery,chartType:n.chartType,jdbcDataSourceId:n.jdbcDataSourceId})}));case 10:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),a.handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(b.a)({},r,n))},a.handleAceEditorChange=function(e){a.setState({sqlQuery:e})},a.handleDataSourceChange=function(e){var t=parseInt(e.target.value,10);a.setState({jdbcDataSourceId:t})},a.handleChartTypeChange=function(e){a.setState({chartType:e.target.value})},a.save=function(e){e.preventDefault();var t=a.state,n=t.widgetId,r=t.name,i=t.jdbcDataSourceId,s=t.sqlQuery,o=t.chartType,l={name:r,dashboardId:a.props.dashboardId,chartType:o,jdbcDataSourceId:i,sqlQuery:s};if(o===F);else if(o===T){var c=a.state,u=c.aggrKey,d=c.aggrValue;l.data={name:u,value:d}}null===n?w.a.post("/ws/widget",l).then(function(e){a.props.onSave()}):(l.id=n,w.a.put("/ws/widget",l).then(function(e){a.props.onSave()}))},a.runQuery=function(e){e.preventDefault();var t={jdbcDataSourceId:a.state.jdbcDataSourceId,sqlQuery:a.state.sqlQuery};w.a.post("/ws/jdbcquery/query",t).then(function(e){var t=e.data;a.setState({queryResult:t})})},a.addFilterParam=function(e){e.preventDefault();var t=a.state.filterId;if(-1===a.state.filterParams.findIndex(function(e){return e===t})){var n=Object(I.a)(a.state.filterParams);n.push(t),a.setState({filterParams:n})}},a.removeFilterParam=function(e,t){t.preventDefault();var n=a.state.filterParams.findIndex(function(t){return t===e});if(-1!==n){var r=Object(I.a)(a.state.filterParams);r.splice(n,1),a.setState({filterParams:r})}},a.handleFilterChange=function(e){a.setState({filterId:e.target.value})},a.generateChart=function(e){if(e.preventDefault(),a.state.chartType===T){var t=a.state,n=t.aggrKey,r=t.aggrValue,i=t.queryResult;if(!D(i)){for(var s=[],o=[],l=0;l<i.length;l++){var c=i[l];s.push(c[n]),o.push({name:c[n],value:c[r]})}var u=_(s,o);a.setState({chartOption:u})}}},a.state=a.initialState,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,t=this,a=this.state.jdbcDataSources.map(function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)}),n=this.state.filters.map(function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.id)}),i=this.state.filterParams.map(function(e){return r.a.createElement("div",{key:e},r.a.createElement("div",null,"value: ",e),r.a.createElement("button",{onClick:function(a){return t.removeFilterParam(e,a)}},"delete"))}),s=V.map(function(e){return r.a.createElement("option",{value:e,key:e},e)}),o=[],l=this.state.queryResult;if(D(l))e=r.a.createElement("div",null,l);else{for(var c=l[0],u=Object.keys(c),d=0;d<u.length;d++){var h=u[d];o.push({Header:h,accessor:h})}e=r.a.createElement(R.a,{data:this.state.queryResult,columns:o,minRows:0,showPagination:!1})}return r.a.createElement("div",null,r.a.createElement("h3",null,"WidgetEditPanel: ",this.state.widgetId),r.a.createElement("button",{onClick:this.save},"Save"),r.a.createElement("button",{onClick:this.runQuery},"Run Query"),r.a.createElement("form",null,r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleInputChange}),r.a.createElement("label",null,"DataSource"),r.a.createElement("select",{value:this.state.jdbcDataSourceId,onChange:this.handleDataSourceChange},a),r.a.createElement("label",null,"SQL Query"),r.a.createElement(ne.a,{style:{marginTop:"8px"},value:this.state.sqlQuery,mode:"mysql",theme:"xcode",name:"blah2",onChange:this.handleAceEditorChange,height:"300px",width:"100%",fontSize:15,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!0,setOptions:{showLineNumbers:!0,tabSize:2}}),r.a.createElement("label",null,"Result"),e,r.a.createElement("label",null,"Filter Params"),r.a.createElement("div",null,r.a.createElement("select",{value:this.state.filterId,onChange:this.handleFilterChange},n),r.a.createElement("div",null,i),r.a.createElement("button",{onClick:this.addFilterParam},"Add"),r.a.createElement("div",null)),r.a.createElement("label",null,"Columns Mapping"),r.a.createElement("div",null,"column name, display name, data type"),r.a.createElement("label",null,"Chart Options"),r.a.createElement("select",{value:this.state.chartType,onChange:this.handleChartTypeChange},s),r.a.createElement("label",null,r.a.createElement("i",{class:"fas fa-table"})," Table"),r.a.createElement("div",null),r.a.createElement("label",null,r.a.createElement("i",{class:"fas fa-chart-pie"})," Pie Chart"),r.a.createElement("div",null,'Count "value" by "key"'),r.a.createElement("label",null,"Aggr Key"),r.a.createElement("input",{type:"text",name:"aggrKey",value:this.state.aggrKey,onChange:this.handleInputChange}),r.a.createElement("label",null,"By Aggr Value"),r.a.createElement("input",{type:"text",name:"aggrValue",value:this.state.aggrValue,onChange:this.handleInputChange}),r.a.createElement("button",{onClick:this.generateChart},"Generete Chart"),r.a.createElement(H.a,{option:this.state.chartOption,style:{height:"350px",width:"100%"},className:"react_for_echarts"})))}},{key:"initialState",get:function(){return{jdbcDataSources:[],filters:[],widgetId:null,name:"",sqlQuery:"",jdbcDataSourceId:null,queryResult:[],filterId:null,filterParams:[],chartType:F,aggrKey:"",aggrValue:"",chartOption:{}}}}]),t}(r.a.Component)),ie=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).fetchFilter=function(){var e=Object(g.a)(v.a.mark(function e(t){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState(a.initialState),e.next=3,y();case 3:n=e.sent,a.setState({jdbcDataSources:n}),null===t?(0!==n.length&&a.setState({jdbcDataSourceId:n[0].id}),a.setState({filterId:null})):w.a.get("/ws/filter/"+t).then(function(e){var n=e.data,r=n.data,i=n.type;a.setState({filterId:t,name:n.name,type:n.type,data:r}),i===P?a.setState({sqlQuery:r.sqlQuery,jdbcDataSourceId:r.jdbcDataSourceId,param:r.param}):i===N&&a.setState({sqlQuery:r.sqlQuery,jdbcDataSourceId:r.jdbcDataSourceId,param:r.param})});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(b.a)({},r,n))},a.handleAceEditorChange=function(e){a.setState({sqlQuery:e})},a.handleDataSourceChange=function(e){a.setState({jdbcDataSourceId:e.target.value})},a.handleTypeChange=function(e){a.setState({type:e.target.value})},a.save=function(e){e.preventDefault();var t=a.state,n=t.filterId,r=t.name,i=t.type,s=t.jdbcDataSourceId,o=t.sqlQuery,l=t.param,c={name:r,type:i,dashboardId:a.props.dashboardId};i===P?c.data={jdbcDataSourceId:s,sqlQuery:o,param:l}:i===N&&(c.data={useQuery:!1,jdbcDataSourceId:s,sqlQuery:o,param:l}),null===n?w.a.post("/ws/filter",c).then(function(e){a.props.onSave()}):(c.id=n,w.a.put("/ws/filter",c).then(function(e){a.props.onSave()}))},a.runQuery=function(e){e.preventDefault();var t={jdbcDataSourceId:a.state.jdbcDataSourceId,sqlQuery:a.state.sqlQuery};w.a.post("/ws/jdbcquery/query",t).then(function(e){var t=e.data;a.setState({queryResult:t})})},a.state=a.initialState,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=this.state,a=t.queryResult,n=t.jdbcDataSources.map(function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)}),i=W.map(function(e){return r.a.createElement("option",{value:e,key:e},e)}),s=[];if(D(a))e=r.a.createElement("div",null,a);else{console.log("queryResult",a);for(var o=a[0],l=Object.keys(o),c=0;c<l.length;c++){var u=l[c];s.push({Header:u,accessor:u})}e=r.a.createElement(R.a,{data:this.state.queryResult,columns:s,minRows:0,showPagination:!1})}return r.a.createElement("div",null,r.a.createElement("h3",null,"FilterEditPanel: ",this.state.filterId),r.a.createElement("button",{onClick:this.save},"Save"),r.a.createElement("button",{onClick:this.runQuery},"Run"),r.a.createElement("form",null,r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleInputChange}),r.a.createElement("label",null,"Type"),r.a.createElement("select",{value:this.state.type,onChange:this.handleTypeChange},i),r.a.createElement("label",null,"DataSource"),r.a.createElement("select",{value:this.state.jdbcDataSourceId,onChange:this.handleDataSourceChange},n),r.a.createElement("label",null,"SQL Query"),r.a.createElement(ne.a,{style:{marginTop:"8px"},value:this.state.sqlQuery,mode:"mysql",theme:"xcode",name:"blah2",onChange:this.handleAceEditorChange,height:"300px",width:"100%",fontSize:15,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!0,setOptions:{showLineNumbers:!0,tabSize:2}}),r.a.createElement("label",null,"Result"),e,r.a.createElement("label",null,"Param"),r.a.createElement("input",{type:"text",name:"param",value:this.state.param,onChange:this.handleInputChange})))}},{key:"initialState",get:function(){return{jdbcDataSources:[],filterId:null,name:"",type:P,data:{},sqlQuery:"",jdbcDataSourceId:null,queryResult:[],param:""}}}]),t}(r.a.Component),se=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getPageWidth=function(){return s.a.findDOMNode(Object(x.a)(Object(x.a)(a))).clientWidth},a.handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(b.a)({},r,n))},a.toggleAutoRefresh=function(){var e=a.state.autoRefreshTimerId;if(e)clearInterval(e),a.setState({autoRefreshTimerId:""});else{var t=setInterval(function(){a.refreshWidgetView();var e=(new Date).toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1");a.setState({lastRefreshed:e})},1e3);a.setState({autoRefreshTimerId:t})}},a.refresh=function(){console.log("refresh"),a.refreshWidgetView(),a.refreshFilterView()},a.refreshFilterView=function(){var e=a.state.dashboardId;a.filterViewPanel.current.fetchFilters(e)},a.refreshWidgetView=function(){var e=a.state,t=e.dashboardId,n=e.widgetViewWidth;a.widgetViewPanel.current.fetchWidgets(t,n,null)},a.save=function(){console.log("save");var e=a.state,t=e.dashboardId,n=(e.name,{id:t,height:e.height});w.a.put("/ws/dashboard/",n).then(function(e){}),a.widgetViewPanel.current.saveWidgets(),a.props.onSaveDashboard(t),a.setState({isEditMode:!1})},a.edit=function(){a.setState({isEditMode:!0})},a.cancelEdit=function(){a.setState({isEditMode:!1})},a.delete=function(){var e=a.state.dashboardId;console.log("delete",e),w.a.delete("/ws/dashboard/".concat(e)).then(function(e){})},a.onSaveWidget=function(){a.setState({showWidgetEditPanel:!1}),a.refreshWidgetView()},a.onSaveFilter=function(){a.setState({showFilterEditPanel:!1}),a.refreshFilterView()},a.toggleFilterViewPanel=function(){var e=a.state.showFilterViewPanel;a.resizePageLayout(!e)},a.resizePageLayout=function(e){var t=a.getPageWidth(),n=e?t-U:t;a.widgetViewPanel.current.resizeGrid(n,!0),a.setState({showFilterViewPanel:e,widgetViewWidth:n})},a.openFilterEditPanel=function(e){a.filterEditPanel.current.fetchFilter(e),a.setState({showFilterEditPanel:!0})},a.openWidgetEditPanel=function(e){var t=a.state.dashboardId;a.widgetEditPanel.current.fetchWidget(e,t),a.setState({showWidgetEditPanel:!0})},a.applyFilters=function(e){a.widgetViewPanel.current.queryWidgets(e)},a.state={showWidgetEditPanel:!1,showFilterEditPanel:!1,showFilterViewPanel:!0,isEditMode:!1,autoRefreshTimerId:"",lastRefreshed:"",jdbcDataSourceOptions:[],dashboardId:0,name:"",height:0,widgetViewWidth:1e3},a.filterViewPanel=r.a.createRef(),a.filterEditPanel=r.a.createRef(),a.widgetViewPanel=r.a.createRef(),a.widgetEditPanel=r.a.createRef(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id,a=void 0!==t?t:null;console.log("DashboardEditView",a);var n=this.getPageWidth(),r=this.state.showFilterViewPanel?n-U:n;console.log("componentDidMount",n,r),this.setState({pageWidth:n,widgetViewWidth:r},function(){null===a?e.setState({dashboardId:null}):w.a.get("/ws/dashboard/".concat(a)).then(function(t){var a=t.data;e.setState({dashboardId:a.id,name:a.name,height:a.height},function(){e.refresh()})})})}},{key:"componentWillUnmount",value:function(){var e=this.state.autoRefreshTimerId;e&&clearInterval(e)}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.autoRefreshTimerId,i=a.lastRefreshed,s=""===n?"OFF":"ON";return e=a.isEditMode?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:this.cancelEdit},"Cancel"),r.a.createElement("button",{onClick:this.save},"Save"),r.a.createElement("button",{onClick:this.delete},"Delete"),r.a.createElement("button",{onClick:function(){return t.openFilterEditPanel(null)}},"Add Filter"),r.a.createElement("button",{onClick:function(){return t.openWidgetEditPanel(null)}},"Add Widget")):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:this.edit},"Edit"),r.a.createElement("button",{onClick:this.toggleFilterViewPanel},"Show Filters")),r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"inline-block"},"Name:"),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleInputChange,className:"inline-block",style:{width:"200px"}}),r.a.createElement("div",{className:"inline-block"},"H:"),r.a.createElement("input",{type:"text",name:"height",value:this.state.height,onChange:this.handleInputChange,className:"inline-block",style:{width:"200px"}})),r.a.createElement("button",{onClick:this.toggleAutoRefresh},"AUTO: ",s," - ",i),r.a.createElement("button",{onClick:this.refresh},"Refresh"),e,r.a.createElement(te,{ref:this.widgetViewPanel,onWidgetEdit:this.openWidgetEditPanel,isEditMode:this.state.isEditMode,height:this.state.height,widgetViewWidth:this.state.widgetViewWidth}),r.a.createElement(q,{ref:this.filterViewPanel,onEdit:this.openFilterEditPanel,onApplyFilters:this.applyFilters,isEditMode:this.state.isEditMode,show:this.state.showFilterViewPanel}),r.a.createElement(j,{show:this.state.showWidgetEditPanel,onClose:function(){return t.setState({showWidgetEditPanel:!1})},modalClass:"lg-modal-panel"},r.a.createElement(re,{ref:this.widgetEditPanel,jdbcDataSourceOptions:this.state.jdbcDataSourceOptions,dashboardId:this.state.dashboardId,onSave:this.onSaveWidget})),r.a.createElement(j,{show:this.state.showFilterEditPanel,onClose:function(){return t.setState({showFilterEditPanel:!1})},modalClass:"lg-modal-panel"},r.a.createElement(ie,{ref:this.filterEditPanel,jdbcDataSourceOptions:this.state.jdbcDataSourceOptions,dashboardId:this.state.dashboardId,onSave:this.onSaveFilter})))}}]),t}(r.a.Component),oe=Object(k.a)(se),le=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).fetchBoards=function(){w.a.get("/ws/dashboard").then(function(e){var t=e.data;a.setState({dashboards:t})})},a.handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(b.a)({},r,n))},a.save=function(){var e=a.state,t={name:e.name,width:e.width,height:e.height};w.a.post("/ws/dashboard",t).then(function(e){var t=e.data;a.setState({showEditPanel:!1}),a.fetchBoards(),a.props.history.push("/dashboards/".concat(t))})},a.view=function(e){a.props.history.push("/dashboards/".concat(e))},a.onSaveDashboard=function(e){console.log("onSaveDashboard",e),a.fetchBoards()},a.state=a.initialState,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchBoards()}},{key:"render",value:function(){var e=this,t=this.state.dashboards.map(function(t,a){return r.a.createElement("div",{key:a,className:"dashboard-menu-item",onClick:function(){return e.view(t.id)}},r.a.createElement("div",null,t.id," ",t.name))});return r.a.createElement("div",null,r.a.createElement("div",{className:"dashboard-sidebar"},r.a.createElement("button",{onClick:function(){return e.setState({showEditPanel:!0})}},"Add"),r.a.createElement("label",null,"Search"),r.a.createElement("input",{type:"text",name:"searchValue",value:this.state.searchValue,placeholder:"Dashboard",onChange:this.handleInputChange}),t),r.a.createElement("div",{className:"dashboard-content"},r.a.createElement(m.a,{path:"/dashboards/:id",render:function(t){return r.a.createElement(oe,{key:t.match.params.id,onSaveDashboard:e.onSaveDashboard})}})),r.a.createElement(j,{show:this.state.showEditPanel,onClose:function(){return e.setState({showEditPanel:!1})},modalClass:"lg-modal-panel"},r.a.createElement("div",null,"New dashboard"),r.a.createElement("button",{onClick:this.save},"Save"),r.a.createElement("form",null,r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleInputChange,style:{width:"200px"}}),r.a.createElement("label",null,"Width"),r.a.createElement("input",{type:"text",name:"width",value:this.state.width,onChange:this.handleInputChange,style:{width:"100px"}}),r.a.createElement("label",null,"Height"),r.a.createElement("input",{type:"text",name:"height",value:this.state.height,onChange:this.handleInputChange,style:{width:"100px"}}))))}},{key:"initialState",get:function(){return{searchValue:"",dashboards:[],showEditPanel:!1,name:"",width:1200,height:800}}}]),t}(n.Component),ce=Object(k.a)(le),ue=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],de=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getOption=function(){return{color:ue,title:{text:"Test"},tooltip:{trigger:"axis"},legend:{data:["C1","C2","C3"]},toolbox:{feature:{saveAsImage:{}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]}],yAxis:[{type:"value"}],series:[{name:"C1",type:"line",stack:"Total",areaStyle:{normal:{}},data:[120,132,101,134,90,230,210]},{name:"C2",type:"line",stack:"Total",areaStyle:{normal:{}},data:[220,182,191,234,290,330,310]},{name:"C3",type:"line",stack:"Total",areaStyle:{normal:{}},data:[150,232,201,154,190,330,410]}]}},a.onChartClick=function(e,t){console.log("onChartClick",e,t)},a.onChartLegendselectchanged=function(e,t){console.log("onChartLegendselectchanged",e,t)},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e={click:this.onChartClick,legendselectchanged:this.onChartLegendselectchanged};return r.a.createElement("div",null,r.a.createElement("h5",null,"SingleTest"),r.a.createElement("div",{style:{width:"500px"}},r.a.createElement(H.a,{option:this.getOption(),style:{height:"350px",width:"100%"},className:"react_for_echarts",onEvents:e})))}}]),t}(n.Component),he=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e){a.setState({menuItem:e})},a.state={currentMenuItem:"dashboard"},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;this.state.currentMenuItem;return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"app-nav"},r.a.createElement("div",{className:"app-name"},"Poli"),r.a.createElement("ul",{className:"app-nav-menu"},r.a.createElement("li",null,r.a.createElement(h.a,{to:"/datasources",onClick:function(t){return e.handleClick("datasource")}},r.a.createElement("i",{className:"fas fa-database fa-fw"}),r.a.createElement("span",{className:"app-nav-menu-text"},"Data Source"))),r.a.createElement("li",null,r.a.createElement(h.a,{to:"/dashboards",onClick:function(t){return e.handleClick("dashboard")}},r.a.createElement("i",{className:"fas fa-chalkboard fa-fw"}),r.a.createElement("span",{className:"app-nav-menu-text"},"Dashboard"))),r.a.createElement("li",null,r.a.createElement(h.a,{to:"/single-test",onClick:function(t){return e.handleClick("single-test")}},r.a.createElement("span",{className:"app-nav-menu-text"},"Single"))))),r.a.createElement("div",{className:"app-content"},r.a.createElement(p.a,null,r.a.createElement(m.a,{exact:!0,path:"/",component:ce}),r.a.createElement(m.a,{exact:!0,path:"/datasources",component:O}),r.a.createElement(m.a,{path:"/dashboards",component:ce}),r.a.createElement(m.a,{exact:!0,path:"/single-test",component:de}))))}}]),t}(n.Component),pe=a(822);s.a.render(r.a.createElement(pe.a,{basename:"/poli"},r.a.createElement(he,null)),document.getElementById("root"))}},[[309,2,1]]]);
//# sourceMappingURL=main.4fb1bbca.chunk.js.map